class ASCIIArt:
    
    def __init__(self, text, font="basic", color="Білий", width=80, custom_char="#"):
        self.text = text
        self.font = font
        self.color = color
        self.width = width
        self.custom_char = custom_char
        self.ascii_art = ""
        self.color_codes = {
            "Червоний": "\033[91m",
            "Синій": "\033[94m",
            "Зелений": "\033[92m",
            "Білий": "\033[97m",
            "Жовтий": "\033[93m",
        }
        self.reset_code = "\033[0m"
        
    def generate_art(self):
        """Генерує ASCII-арт за допомогою вибраного шрифту, вирівнюючи символи в одному рядку."""
        lines = [""] * 5  # Кількість рядків у символах шрифту (в даному випадку 5)
        
        # Перетворюємо кожен символ на його ASCII представлення
        for char in self.text:
            ascii_char = self._convert_char_to_ascii(char)
            ascii_lines = ascii_char.split("\n")
            
            # Додаємо кожен рядок ASCII символу до відповідного рядка в загальному арті
            for i in range(len(ascii_lines)):
                lines[i] += ascii_lines[i] 
        
        self.ascii_art = "\n".join(lines)
        self._apply_custom_characters()     
        
        return self._apply_color(self.ascii_art)
      

    def _convert_char_to_ascii(self, char):
        """Перетворює символ у його ASCII подання на основі вибраного шрифту."""
        fonts = {
            'basic': {
                'A': [
                    "   #   ",
                    "  # #  ",
                    " #   # ",
                    " ##### ",
                    " #   # "
                ],
                'B': [
                    " ####  ",
                    " #   # ",
                    " ####  ",
                    " #   # ",
                    " ####  "
                ],
                'C': [
                    "  ###  ",
                    " #   # ",
                    " #     ",
                    " #   # ",
                    "  ###  "
                ],
                'D': [
                    " ####  ",
                    " #   # ",
                    " # # # ",
                    " ##  # ",
                    " ####  "
                ],
                'E': [
                    " ##### ",
                    " #     ",
                    " ##### ",
                    " #     ",
                    " ##### "
                ],
                'F': [
                    "  #### ",
                    " #     ",
                    " ##### ",
                    " #     ",
                    " #     "
                ],
                'G': [
                    "  ###  ",
                    " #     ",
                    " #  ## ",
                    " #   # ",
                    "  ###  "
                ],
                'H': [
                    " #   # ",
                    " #   # ",
                    " ##### ",
                    " #   # ",
                    " #   # "
                ],
                'I': [
                    "   #   ",
                    "   #   ",
                    "   #   ",
                    "   #   ",
                    "   #   "
                ],
                'J': [
                    "    ###",
                    "      # ",
                    "      # ",
                    " #    # ",
                    "  ####  "
                ],
                'K': [
                    " #   # ",
                    " #  #  ",
                    " ###   ",
                    " #  #  ",
                    " #   # "
                ],
                'L': [
                    " #     ",
                    " #     ",
                    " #     ",
                    " #     ",
                    " ##### "
                ],
                'M': [
                    " #   # ",
                    " ## ## ",
                    " # # # ",
                    " #   # ",
                    " #   # "
                ],
                'N': [
                    " #   # ",
                    " ##  # ",
                    " # # # ",
                    " #  ## ",
                    " #   # "
                ],
                'O': [
                    "  ###  ",
                    " #   # ",
                    " #   # ",
                    " #   # ",
                    "  ###  "
                ],
                'P': [
                    " ####  ",
                    " #   # ",
                    " ####  ",
                    " #     ",
                    " #     "
                ],
                'Q': [
                    "  ###  ",
                    " #   # ",
                    " #   # ",
                    "  # #  ",
                    "     # "
                ],
                'R': [
                    " ####  ",
                    " #   # ",
                    " ####  ",
                    " #  #  ",
                    " #   # "
                ],
                'S': [
                    "  ###  ",
                    " #     ",
                    "  ###  ",
                    "     # ",
                    "  ###  "
                ],
                'T': [
                    " ##### ",
                    "   #   ",
                    "   #   ",
                    "   #   ",
                    "   #   "
                ],
                'U': [
                    " #   # ",
                    " #   # ",
                    " #   # ",
                    " #   # ",
                    "  ###  "
                ],
                'V': [
                    " #   # ",
                    " #   # ",
                    " #   # ",
                    "  # #  ",
                    "   #   "
                ],
                'W': [
                    " #   # ",
                    " #   # ",
                    " # # # ",
                    " ## ## ",
                    " #   # "
                ],
                'X': [
                    " ##  ## ",
                    "  # #   ",
                    "   #    ",
                    "  # #   ",
                    " ##  ## "
                ],
                'Y': [
                    " #   # ",
                    "  # #  ",
                    "   #   ",
                    "   #   ",
                    "   #   "
                ],
                'Z': [
                    " ##### ",
                    " #  #  ",
                    "   #   ",
                    "  #  # ",
                    " ##### "
                ],
                '0': [
                    "  ###  ",
                    " #   # ",
                    " #   # ",
                    " #   # ",
                    "  ###  "
                ],
                '1': [
                    "   #   ",
                    "  ##   ",
                    "   #   ",
                    "   #   ",
                    " ##### "
                ],
                '2': [
                    "  ###  ",
                    " #   # ",
                    "    #  ",
                    "   #   ",
                    " ##### "
                ],
                '3': [
                    "  ###  ",
                    "     # ",
                    "   ##  ",
                    "     # ",
                    "  ###  "
                ],
                '4': [
                    " #   # ",
                    " #   # ",
                    " ##### ",
                    "     # ",
                    "     # "
                ],
                '5': [
                    "  #### ",
                    " #     ",
                    " ####  ",
                    "     # ",
                    "  ###  "
                ],
                '6': [
                    "  ###  ",
                    " #     ",
                    " ####  ",
                    " #   # ",
                    "  ###  "
                ],
                '7': [
                    " ##### ",
                    "    #  ",
                    "   #   ",
                    "  #    ",
                    "  #    "
                ],
                '8': [
                    "  ###  ",
                    " #   # ",
                    "  ###  ",
                    " #   # ",
                    "  ###  "
                ],
                '9': [
                    "  ###  ",
                    " #   # ",
                    "  #### ",
                    "     # ",
                    "  ###  "
                ]
            },
            'block': {
                'A': [
                    "  ███  ",
                    " █   █ ",
                    " █████ ",
                    " █   █ ",
                    " █   █ "
                ],
                'B': [
                    " ████  ",
                    " █   █ ",
                    " ████  ",
                    " █   █ ",
                    " ████  "
                ],
                'C': [
                    "  ███  ",
                    " █     ",
                    " █     ",
                    " █     ",
                    "  ███  "
                ],
                'D': [
                    " ████  ",
                    " █   █ ",
                    " █   █ ",
                    " █   █ ",
                    " ████  "
                ],
                'E': [
                    " ████  ",
                    " █     ",
                    " ████  ",
                    " █     ",
                    " ████  "
                ],
                'F': [
                    " ████  ",
                    " █     ",
                    " ████  ",
                    " █     ",
                    " █     "
                ],
                'G': [
                    "  ███  ",
                    " █     ",
                    " █  ██ ",
                    " █   █ ",
                    "  ███  "
                ],
                'H': [
                    " █   █ ",
                    " █   █ ",
                    " █████ ",
                    " █   █ ",
                    " █   █ "
                ],
                'I': [
                    "  ███  ",
                    "   █   ",
                    "   █   ",
                    "   █   ",
                    "  ███  "
                ],
                'J': [
                    "    ███ ",
                    "      █ ",
                    "      █ ",
                    " █    █ ",
                    "  ████  "
                ],
                'K': [
                    " █   █ ",
                    " █  █  ",
                    " ███   ",
                    " █  █  ",
                    " █   █ "
                ],
                'L': [
                    " █     ",
                    " █     ",
                    " █     ",
                    " █     ",
                    " ████  "
                ],
                'M': [
                    " █   █ ",
                    " ██ ██ ",
                    " █ █ █ ",
                    " █   █ ",
                    " █   █ "
                ],
                'N': [
                    " █   █ ",
                    " ██  █ ",
                    " █ █ █ ",
                    " █  ██ ",
                    " █   █ "
                ],
                'O': [
                    "  ███  ",
                    " █   █ ",
                    " █   █ ",
                    " █   █ ",
                    "  ███  "
                ],
                'P': [
                    " ████  ",
                    " █   █ ",
                    " ████  ",
                    " █     ",
                    " █     "
                ],
                'Q': [
                    "  ███  ",
                    " █   █ ",
                    " █   █ ",
                    "  █ █  ",
                    "   ███ "
                ],
                'R': [
                    " ████  ",
                    " █   █ ",
                    " ████  ",
                    " █  █  ",
                    " █   █ "
                ],
                'S': [
                    "  ███  ",
                    " █     ",
                    "  ███  ",
                    "     █ ",
                    "  ███  "
                ],
                'T': [
                    " █████ ",
                    "   █   ",
                    "   █   ",
                    "   █   ",
                    "   █   "
                ],
                'U': [
                    " █   █ ",
                    " █   █ ",
                    " █   █ ",
                    " █   █ ",
                    "  ███  "
                ],
                'V': [
                    " █   █ ",
                    " █   █ ",
                    " █   █ ",
                    "  █ █  ",
                    "   █   "
                ],
                'W': [
                    " █   █ ",
                    " █   █ ",
                    " █ █ █ ",
                    " ██ ██ ",
                    " █   █ "
                ],
                'X': [
                    " █   █ ",
                    "  █ █  ",
                    "   █   ",
                    "  █ █  ",
                    " █   █ "
                ],
                'Y': [
                    " █   █ ",
                    "  █ █  ",
                    "   █   ",
                    "   █   ",
                    "   █   "
                ],
                'Z': [
                    " ████  ",
                    "    █  ",
                    "   █   ",
                    "  █    ",
                    " ████  "
                ],
                '0': [
                    "  ███  ",
                    " █   █ ",
                    " █   █ ",
                    " █   █ ",
                    "  ███  "
                ],
                '1': [
                    "   █   ",
                    "  ██   ",
                    "   █   ",
                    "   █   ",
                    " █████ "
                ],
                '2': [
                    "  ███  ",
                    " █   █ ",
                    "    █  ",
                    "   █   ",
                    " █████ "
                ],
                '3': [
                    "  ███  ",
                    " █   █ ",
                    "   ██  ",
                    " █   █ ",
                    "  ███  "
                ],
                '4': [
                    " █   █ ",
                    " █   █ ",
                    " █████ ",
                    "     █ ",
                    "     █ "
                ],
                '5': [
                    " █████ ",
                    " █     ",
                    " ████  ",
                    "     █ ",
                    " ████  "
                ],
                '6': [
                    "  ███  ",
                    " █     ",
                    " ████  ",
                    " █   █ ",
                    "  ███  "
                ],
                '7': [
                    " ████  ",
                    "    █  ",
                    "   █   ",
                    "  █    ",
                    "  █    "
                ],
                '8': [
                    "  ███  ",
                    " █   █ ",
                    "  ███  ",
                    " █   █ ",
                    "  ███  "
                ],
                '9': [
                    "  ███  ",
                    " █   █ ",
                    "  ████ ",
                    "     █ ",
                    " ████  "
                ]
            },
            'slant': {
                'A': [
                   "     /\     ",
                   "    /  \    ",
                   "   /____\   ",
                   "  /      \  ",
                   " /        \ "
                ],
                'B': [
                    " |----  ",
                    " |    | ",
                    " |----| ",
                    " |    | ",
                    " |----  "
                ],
                'C': [
                    "    ____  ",
                    "  /     \ ",
                    " |        ",
                    " |        ",
                    "  \_____/ "
                ],
                'D': [
                    " |-----  ",
                    " |     | ",
                    " |     | ",
                    " |     | ",
                    " |-----  "
                ],
                'E': [
                    " |-----| ",
                    " |       ",
                    " |-----| ",
                    " |       ",
                    " |-----| "
                ],
                'F': [
                    " |-----| ",
                    " |       ",
                    " |-----| ",
                    " |       ",
                    " |       "
                ],
                'G': [
                    "    ____  ",
                    "  /       ",
                    " |   ____ ",
                    " |      | ",
                    "  \_____/ "
                ],
                'H': [
                    " |     | ",
                    " |     | ",
                    " |-----| ",
                    " |     | ",
                    " |     | "
                ],
                'I': [
                    "  _____  ",
                    "    |    ",
                    "    |    ",
                    "    |    ",
                    "  _____  "
                ],
                'J': [
                    "        __ ",
                    "       |   ",
                    "       |   ",
                    " |     |   ",
                    "  \____/   "
                ],
                'K': [
                    " |    / ",
                    " |   /  ",
                    " |--/   ",
                    " |   \  ",
                    " |    \ "
                ],
                'L': [
                    " |        ",
                    " |        ",
                    " |        ",
                    " |        ",
                    " |------- "
                ],
                'M': [
                    " |    | ",
                    " |\__/| ",
                    " | \/ | ",
                    " |    | ",
                    " |    | "
                ],
                'N': [
                    " |   | ",
                    " |\  | ",
                    " | \ | ",
                    " |  \| ",
                    " |   | "
                ],
                'O': [
                    "   ____   ",
                    "  /    \  ",
                    " |      | ",
                    " |      | ",
                    "  \____/  "
                ],
                'P': [
                    " |-----| ",
                    " |     | ",
                    " |-----| ",
                    " |       ",
                    " |       "
                ],
                'Q': [
                    "   ____   ",
                    "  /    \  ",
                    " |      | ",
                    " |      | ",
                    "  \____/\ "
                ],
                'R': [
                    " |-----| ",
                    " |     | ",
                    " |-----| ",
                    " |    \  ",
                    " |     \ "
                ],
                'S': [
                    "  ____   ",
                    " |       ",
                    "  \____  ",
                    "       | ",
                    "  \____  "
                ],
                'T': [
                    "  |-----| ",
                    "     |    ",
                    "     |    ",
                    "     |    ",
                    "     |    "
                ],
                'U': [
                    " |       | ",
                    " |       | ",
                    " |       | ",
                    " |       | ",
                    "  \_____/  "
                ],
                'V': [
                    " |      | ",
                    " |      | ",
                    " |      | ",
                    "  \    /  ",
                    "   \  /   "
                ],
                'W': [
                    " |      | ",
                    " |      | ",
                    " |  /\  | ",
                    " | /  \ | ",
                    " |      | "
                ],
                'X': [
                    " |     | ",
                    "  \   /  ",
                    "    \    ",
                    "  /   \  ",
                    " |     | "
                ],
                'Y': [
                    " |     | ",
                    "  \   /  ",
                    "    |    ",
                    "    |    ",
                    "    |    "
                ],
                'Z': [
                    " |-----| ",
                    "     /   ",
                    "    /    ",
                    "   /     ",
                    " |-----| "
                ],
                '0': [
                    "   __   ",
                    "  /  \  ",
                    " |    | ",
                    " |    | ",
                    "  \__/  "
                ],
                '1': [
                    "  |  ",
                    "  |  ",
                    "  |  ",
                    "  |  ",
                    "  |  "
                ],
                '2': [
                    "  ____   ",
                    "      |  ",
                    "  ____|  ",
                    " |       ",
                    " |____   "
                ],
                '3': [
                    "  ____   ",
                    "      |  ",
                    "  ____|  ",
                    "      |  ",
                    "  ____|  "
                ],
                '4': [
                    " |      | ",
                    " |      | ",
                    " |------| ",
                    "        | ",
                    "        | "
                ],
                '5': [
                    "   ____  ",
                    " |       ",
                    " |_____  ",
                    "       | ",
                    "  _____| "
                ],
                '6': [
                    "   ____   ",
                    " |        ",
                    " |______  ",
                    " |      | ",
                    " |______| "
                ],
                '7': [
                    " |------| ",
                    "        | ",
                    "      |   ",
                    "     |    ",
                    "    |     "
                ],
                '8': [
                    "   ____   ",
                    " |      | ",
                    " |______| ",
                    " |      | ",
                    " |______| "
                ],
                '9': [
                    "   ____  ",
                    " |      | ",
                    " |______| ",
                    "        | ",
                    "  ______| "
                ]
            }
        }
        font_dict = fonts.get(self.font, fonts['basic'])  # За замовчуванням шрифт basic
        return "\n".join(font_dict.get(char.upper(), [char]))

    def _apply_custom_characters(self):
        """Замінює стандартні символи на користувацькі."""
        self.ascii_art = self.ascii_art.replace('#', str(self.custom_char)).replace('█', str(self.custom_char))
        #.replace('|', str(self.custom_char)).replace('-', str(self.custom_char)).replace('|', str(self.custom_char)).replace('/', str(self.custom_char)).replace('_', str(self.custom_char)).replace('\\', str(self.custom_char))
        
    def _apply_color(self, art):
        """Застосовує вибраний колір до ASCII-арту."""
        color_code = self.color_codes.get(self.color, self.color_codes["Білий"])
        return f"{color_code}{art}{self.reset_code}"
    
    def preview(self):
        print("Попередній перегляд ASCII-арту:")
        print(self.generate_art())

    def save_to_file(self, file_path):
        with open(file_path, "w", encoding="utf-8") as f:
            f.write(self.ascii_art)
        print(f"ASCII-арт збережено у файл {file_path}")
